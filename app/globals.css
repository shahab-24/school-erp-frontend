/* ═══════════════════════════════════════════════════════════════
   globals.css — School ERP Design System
   
   HOW THEME WORKS:
   1. ThemeProvider.tsx sets data-theme="dark"|"light" on <html>
   2. CSS variables here respond to [data-theme]
   3. Every component just uses var(--token) — theme-aware automatically
   4. NEVER redeclare these vars inside component <style> tags
   ═══════════════════════════════════════════════════════════════ */

@import url("https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap");

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* ─── DARK (default — before JS loads) ──────────────────────── */
:root,
[data-theme="dark"] {
  --bg-body:        #0B0F1A;
  --bg-sidebar:     #0D1120;
  --bg-topbar:      rgba(13,17,32,0.95);
  --bg-main:        #0F1525;
  --bg-card:        #131929;
  --bg-card-hover:  #17203A;
  --bg-input:       #1A2236;
  --border:         #1E2A40;
  --border-hover:   #2E3D58;
  --border-focus:   #F59E0B;
  --text-primary:   #F1F5F9;
  --text-secondary: #94A3B8;
  --text-muted:     #4B5A72;
  --accent:         #F59E0B;
  --accent-hover:   #FBBF24;
  --accent-dim:     #D97706;
  --accent-soft:    rgba(245,158,11,0.08);
  --accent-glow:    rgba(245,158,11,0.15);
  --error:          #F87171;
  --error-bg:       rgba(248,113,113,0.08);
  --success:        #34D399;
  --success-bg:     rgba(52,211,153,0.08);
  --warning:        #FBBF24;
  --info:           #60A5FA;
  --shadow-card:    0 20px 60px rgba(0,0,0,0.4), 0 1px 0 rgba(255,255,255,0.04) inset;
  --shadow-sm:      0 2px 12px rgba(0,0,0,0.3);
  --shadow-btn:     0 4px 20px rgba(245,158,11,0.3);
  --sidebar-w:      260px;
  --topbar-h:       64px;
  --radius:         14px;
  --radius-sm:      9px;
  --radius-xs:      6px;
  --transition:     0.2s cubic-bezier(0.4,0,0.2,1);
}

/* ─── LIGHT ──────────────────────────────────────────────────── */
[data-theme="light"] {
  --bg-body:        #EEF2FB;
  --bg-sidebar:     #FFFFFF;
  --bg-topbar:      rgba(255,255,255,0.95);
  --bg-main:        #F4F7FF;
  --bg-card:        #FFFFFF;
  --bg-card-hover:  #F8FAFF;
  --bg-input:       #F5F8FF;
  --border:         #DDE3F0;
  --border-hover:   #C5CFE8;
  --border-focus:   #D97706;
  --text-primary:   #0F172A;
  --text-secondary: #475569;
  --text-muted:     #94A3B8;
  --accent:         #D97706;
  --accent-hover:   #B45309;
  --accent-dim:     #B45309;
  --accent-soft:    rgba(217,119,6,0.07);
  --accent-glow:    rgba(217,119,6,0.14);
  --error:          #DC2626;
  --error-bg:       rgba(220,38,38,0.07);
  --success:        #059669;
  --success-bg:     rgba(5,150,105,0.07);
  --warning:        #D97706;
  --info:           #2563EB;
  --shadow-card:    0 4px 24px rgba(15,23,42,0.08), 0 1px 0 rgba(255,255,255,0.9) inset;
  --shadow-sm:      0 1px 6px rgba(15,23,42,0.1);
  --shadow-btn:     0 4px 16px rgba(217,119,6,0.28);
}

/* ─── Base ───────────────────────────────────────────────────── */
html {
  font-family: "Sora", sans-serif;
  transition: background-color 0.3s ease, color 0.3s ease;
}
body {
  background: var(--bg-body);
  color: var(--text-primary);
  min-height: 100dvh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ─── Scrollbar ──────────────────────────────────────────────── */
* { scrollbar-width: thin; scrollbar-color: var(--border) transparent; }
::-webkit-scrollbar       { width: 5px; height: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }

/* ═══════════════════════════════════════════════════════════════
   REUSABLE COMPONENT CLASSES
   Use these in JSX — all inherit CSS vars automatically
   ═══════════════════════════════════════════════════════════════ */

.erp-input {
  width: 100%;
  background: var(--bg-input);
  border: 1.5px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 11px 14px;
  font-family: "Sora", sans-serif;
  font-size: 14px;
  color: var(--text-primary);
  outline: none;
  -webkit-appearance: none;
  transition: border-color var(--transition), box-shadow var(--transition), background var(--transition);
}
.erp-input::placeholder { color: var(--text-muted); }
.erp-input:focus {
  border-color: var(--border-focus);
  box-shadow: 0 0 0 3px var(--accent-glow);
  background: var(--bg-card);
}

.erp-select {
  appearance: none; cursor: pointer; padding-right: 36px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%2394A3B8' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
  background-repeat: no-repeat; background-position: right 12px center;
}

.erp-btn-primary {
  display: inline-flex; align-items: center; justify-content: center; gap: 8px;
  background: var(--accent); color: #0B0F1A;
  border: none; border-radius: var(--radius-sm);
  padding: 11px 20px;
  font-family: "Sora", sans-serif; font-size: 14px; font-weight: 700;
  cursor: pointer; white-space: nowrap; text-decoration: none;
  box-shadow: var(--shadow-btn);
  transition: background var(--transition), box-shadow var(--transition), transform var(--transition);
}
.erp-btn-primary:hover:not(:disabled) {
  background: var(--accent-hover);
  box-shadow: 0 6px 28px rgba(245,158,11,0.4);
  transform: translateY(-1px);
}
.erp-btn-primary:active:not(:disabled) { transform: translateY(0); }
.erp-btn-primary:disabled { opacity: 0.65; cursor: not-allowed; }

.erp-btn-ghost {
  display: inline-flex; align-items: center; justify-content: center; gap: 7px;
  background: var(--bg-input); color: var(--text-secondary);
  border: 1.5px solid var(--border); border-radius: var(--radius-sm);
  padding: 10px 16px;
  font-family: "Sora", sans-serif; font-size: 13.5px; font-weight: 500;
  cursor: pointer; white-space: nowrap; text-decoration: none;
  transition: color var(--transition), border-color var(--transition), background var(--transition);
}
.erp-btn-ghost:hover { color: var(--text-primary); border-color: var(--border-hover); background: var(--bg-card-hover); }

.erp-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); box-shadow: var(--shadow-card); }

.erp-badge { display: inline-flex; align-items: center; gap: 5px; padding: 3px 10px; border-radius: 20px; font-size: 11.5px; font-weight: 600; letter-spacing: 0.2px; }
.erp-badge-amber { background: var(--accent-soft);        color: var(--accent);  border: 1px solid rgba(245,158,11,0.2); }
.erp-badge-green { background: var(--success-bg);          color: var(--success); border: 1px solid rgba(52,211,153,0.2); }
.erp-badge-red   { background: var(--error-bg);            color: var(--error);   border: 1px solid rgba(248,113,113,0.2); }
.erp-badge-blue  { background: rgba(96,165,250,0.08);      color: var(--info);    border: 1px solid rgba(96,165,250,0.2); }

.erp-section-title {
  display: flex; align-items: center; gap: 8px;
  font-size: 11px; font-weight: 700; letter-spacing: 1.2px; text-transform: uppercase;
  color: var(--accent); margin-bottom: 14px;
}
.erp-section-title::after { content: ""; flex: 1; height: 1px; background: linear-gradient(90deg, var(--accent-soft), transparent); }

.erp-spinner { width: 18px; height: 18px; border: 2px solid rgba(0,0,0,0.15); border-top-color: #0B0F1A; border-radius: 50%; animation: spin 0.7s linear infinite; }

.erp-icon-btn {
  display: flex; align-items: center; justify-content: center;
  width: 36px; height: 36px; border-radius: var(--radius-sm);
  background: var(--bg-input); border: 1px solid var(--border);
  color: var(--text-secondary); cursor: pointer;
  position: relative; overflow: hidden;
  transition: color var(--transition), background var(--transition), border-color var(--transition);
}
.erp-icon-btn:hover { color: var(--accent); background: var(--accent-soft); border-color: rgba(245,158,11,0.3); }

.erp-dropdown {
  position: absolute; top: calc(100% + 10px); right: 0;
  background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius);
  box-shadow: 0 20px 60px rgba(0,0,0,0.35), 0 1px 0 rgba(255,255,255,0.04) inset;
  z-index: 200; overflow: hidden;
  animation: dropIn 0.18s cubic-bezier(0.34,1.56,0.64,1) both;
}
[data-theme="light"] .erp-dropdown { box-shadow: 0 8px 40px rgba(15,23,42,0.14); }

.nav-link {
  display: flex; align-items: center; gap: 10px;
  padding: 9px 12px; border-radius: var(--radius-sm);
  font-size: 13.5px; font-weight: 500; color: var(--text-secondary);
  text-decoration: none; position: relative;
  transition: color var(--transition), background var(--transition);
}
.nav-link:hover { color: var(--text-primary); background: var(--accent-soft); }
.nav-link.active { color: var(--accent); background: var(--accent-soft); font-weight: 600; }
.nav-link.active::before {
  content: ""; position: absolute; left: 0; top: 22%; bottom: 22%;
  width: 3px; background: var(--accent); border-radius: 0 3px 3px 0;
}

/* Theme toggle icons */
.theme-icon {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  transition: opacity 0.25s ease, transform 0.35s cubic-bezier(0.34,1.56,0.64,1);
}
.theme-icon-sun  { opacity: 1; transform: scale(1) rotate(0deg); }
.theme-icon-moon { opacity: 0; transform: scale(0.4) rotate(90deg); }
[data-theme="light"] .theme-icon-sun  { opacity: 0; transform: scale(0.4) rotate(-90deg); }
[data-theme="light"] .theme-icon-moon { opacity: 1; transform: scale(1) rotate(0deg); }

/* Animations */
@keyframes pageEnter   { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }
@keyframes cardIn      { from{opacity:0;transform:translateY(28px) scale(0.97)} to{opacity:1;transform:translateY(0) scale(1)} }
@keyframes spin        { to{transform:rotate(360deg)} }
@keyframes dropIn      { from{opacity:0;transform:scale(0.95) translateY(-6px)} to{opacity:1;transform:scale(1) translateY(0)} }
@keyframes iconPulse   { 0%,100%{box-shadow:0 0 0 4px var(--accent-glow)} 50%{box-shadow:0 0 0 10px transparent} }
@keyframes statusPulse { 0%,100%{box-shadow:0 0 0 2px rgba(52,211,153,0.2)} 50%{box-shadow:0 0 0 5px rgba(52,211,153,0.04)} }
@keyframes shake       { 0%,100%{transform:translateX(0)} 20%{transform:translateX(-5px)} 40%{transform:translateX(5px)} 60%{transform:translateX(-3px)} 80%{transform:translateX(3px)} }
@keyframes pulse       { 0%,100%{opacity:1} 50%{opacity:0.4} }

.animate-page-enter   { animation: pageEnter 0.3s ease both; }
.animate-card-in      { animation: cardIn 0.55s cubic-bezier(0.34,1.56,0.64,1) both; }
.animate-icon-pulse   { animation: iconPulse 3s ease-in-out infinite; }
.animate-status-pulse { animation: statusPulse 2s ease-in-out infinite; }
.animate-pulse-slow   { animation: pulse 1.5s ease infinite; }